<section class="h-screen overflow-scroll bg-black bg-opacity-50">
  <div class="flex">
    <div class="w-1/2"></div>
    <div class="animate-slide-in-right w-2/4 border bg-white shadow-xl">
      <div class="items-center justify-between border">
        <div class="flex items-center justify-between bg-purple-50">
          <div class="m-4">
            <button (click)="closeView.emit(false)">
              <svg
                class="h-8 w-8 rounded-lg bg-gray-100 p-1 text-gray-600 transition-all duration-500 hover:bg-red-600 hover:text-white dark:text-white"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  class=""
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18 17.94 6M18 18 6.06 6"
                />
              </svg>
            </button>
          </div>
          <div class="mr-4">
            <h1 class="text-xl font-semibold text-purple-800">View Donor</h1>
          </div>
        </div>

        <div>
          <form class="my-4" [formGroup]="updateDonorForm">
            <div class="p-4 md:px-10 md:pb-2 md:pt-6">
              <div class="mb-6 grid gap-6 md:grid-cols-6">
                <div class="col-span-3">
                  <label
                    for="first_name"
                    class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
                    >First name</label
                  >
                  <input
                    type="text"
                    formControlName="dfirstName"
                    class="input-form"
                    placeholder="John"
                    appFirstCapLetter
                    [ngClass]="{
                      error:
                        updateDonorForm.get('dfirstName')?.invalid &&
                        updateDonorForm.get('dfirstName')?.touched
                    }"
                    required
                  />
                  <small
                    *ngIf="
                      updateDonorForm?.get('dfirstName')?.invalid &&
                      updateDonorForm?.get('dfirstName')?.touched
                    "
                    class="text-danger text-red-600"
                  >
                    Name Should not be Empty!
                  </small>
                </div>
                <div class="col-span-3">
                  <label
                    for="last_name"
                    class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
                    >Last name</label
                  >
                  <input
                    type="text"
                    formControlName="dlastName"
                    class="input-form"
                    placeholder="Doe"
                    appFirstCapLetter
                    [ngClass]="{
                      error:
                        updateDonorForm.get('dlastName')?.invalid &&
                        updateDonorForm.get('dlastName')?.touched
                    }"
                    required
                  />
                  <small
                    *ngIf="
                      updateDonorForm?.get('dlastName')?.invalid &&
                      updateDonorForm?.get('dlastName')?.touched
                    "
                    class="text-danger text-red-600"
                  >
                    Name Should not be Empty!
                  </small>
                </div>
                <div class="col-span-3">
                  <label
                    for="email-address-icon"
                    class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
                    >Email</label
                  >
                  <div class="relative">
                    <div
                      class="pointer-events-none absolute inset-y-0 start-0 flex items-center ps-3.5"
                    >
                      <svg
                        class="h-4 w-4 text-gray-500 dark:text-gray-400"
                        aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="currentColor"
                        viewBox="0 0 20 16"
                      >
                        <path
                          d="m10.036 8.278 9.258-7.79A1.979 1.979 0 0 0 18 0H2A1.987 1.987 0 0 0 .641.541l9.395 7.737Z"
                        />
                        <path
                          d="M11.241 9.817c-.36.275-.801.425-1.255.427-.428 0-.845-.138-1.187-.395L0 2.6V14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2.5l-8.759 7.317Z"
                        />
                      </svg>
                    </div>
                    <input
                      type="email"
                      #email
                      formControlName="demailId"
                      class="icon-input"
                      autocomplete="email"
                      placeholder="name@company.com"
                      [ngClass]="{
                        error:
                          updateDonorForm.get('demailId')?.invalid &&
                          updateDonorForm.get('demailId')?.touched
                      }"
                      required
                    />
                  </div>
                  <small
                    *ngIf="
                      updateDonorForm?.get('demailId')?.invalid &&
                      updateDonorForm?.get('demailId')?.touched
                    "
                    class="text-danger text-red-600"
                  >
                    Invalid Email !
                  </small>
                </div>
                <div class="col-span-3">
                  <label
                    class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
                    >Phone</label
                  >
                  <div class="relative">
                    <div
                      class="pointer-events-none absolute inset-y-0 start-0 flex items-center ps-3.5"
                    >
                      <svg
                        class="h-5 w-5 text-gray-500 dark:text-gray-400"
                        aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        fill="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          d="M7.978 4a2.553 2.553 0 0 0-1.926.877C4.233 6.7 3.699 8.751 4.153 10.814c.44 1.995 1.778 3.893 3.456 5.572 1.68 1.679 3.577 3.018 5.57 3.459 2.062.456 4.115-.073 5.94-1.885a2.556 2.556 0 0 0 .001-3.861l-1.21-1.21a2.689 2.689 0 0 0-3.802 0l-.617.618a.806.806 0 0 1-1.14 0l-1.854-1.855a.807.807 0 0 1 0-1.14l.618-.62a2.692 2.692 0 0 0 0-3.803l-1.21-1.211A2.555 2.555 0 0 0 7.978 4Z"
                        />
                      </svg>
                    </div>
                    <input
                      type="text"
                      #phone
                      class="icon-input"
                      autocomplete="phone"
                      formControlName="dcontactNumber"
                      placeholder="123-456-970"
                      [ngClass]="{
                        error:
                          updateDonorForm.get('dcontactNumber')?.invalid &&
                          updateDonorForm.get('dcontactNumber')?.touched
                      }"
                      required
                    />
                  </div>
                </div>
                <div class="col-span-4">
                  <label
                    for="donarCategory"
                    class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
                    >Donor Category</label
                  >
                  <select
                    class="input-form"
                    #statevalue
                    formControlName="dcategory"
                    autocomplete="dcategory"
                    [ngClass]="{
                      error:
                        updateDonorForm.get('state')?.invalid &&
                        updateDonorForm.get('state')?.touched
                    }"
                  >
                    <option null selected disabled>Choose Category</option>
                    <option
                      *ngFor="let dcat of _donarCategory"
                      value="{{ dcat.value }}"
                    >
                      {{ dcat.located }}
                    </option>
                  </select>
                  <small
                    *ngIf="
                      updateDonorForm?.get('state')?.invalid &&
                      updateDonorForm?.get('state')?.touched
                    "
                    class="text-danger text-red-600"
                  >
                    State Should not be
                  </small>
                </div>
              </div>

              <div class="mb-2">
                <label
                  for="Address"
                  class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
                  >Address</label
                >

                <input
                  type="text"
                  class="input-form"
                  formControlName="daddress1"
                  autocomplete="street-address"
                  placeholder="Flat, House no., Building, Company, Apartment"
                  [ngClass]="{
                    error:
                      updateDonorForm.get('daddress1')?.invalid &&
                      updateDonorForm.get('daddress1')?.touched
                  }"
                  required
                />
                <small
                  *ngIf="
                    updateDonorForm?.get('daddress1')?.invalid &&
                    updateDonorForm?.get('daddress1')?.touched
                  "
                  class="text-danger text-red-600"
                >
                  Address Should be atleast 10 characters!
                </small>
              </div>
              <div class="mb-6">
                <input
                  type="text"
                  formControlName="daddress2"
                  autocomplete="street-address-level2"
                  class="input-form"
                  placeholder="Area, Street, Sector, Village"
                  [ngClass]="{
                    error:
                      updateDonorForm.get('daddress2')?.invalid &&
                      updateDonorForm.get('daddress2')?.touched
                  }"
                  required
                />
                <small
                  *ngIf="
                    updateDonorForm?.get('daddress2')?.invalid &&
                    updateDonorForm?.get('daddress2')?.touched
                  "
                  class="text-danger text-red-600"
                >
                  Address line 2 Should be empty !
                </small>
              </div>

              <div class="mb-6 grid gap-6 md:grid-cols-2">
                <div>
                  <label
                    for="Country"
                    class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
                    >Country/Region</label
                  >
                  <input
                    type="text"
                    formControlName="dcountry"
                    class="input-form"
                    placeholder="country"
                    appFirstCapLetter
                    [ngClass]="{
                      error:
                        updateDonorForm.get('dcountry')?.invalid &&
                        updateDonorForm.get('dcountry')?.touched
                    }"
                    required
                  />
                  <small
                    *ngIf="
                      updateDonorForm?.get('dcountry')?.invalid &&
                      updateDonorForm?.get('dcountry')?.touched
                    "
                    class="text-danger text-red-600"
                  >
                    Country Should not be Empty!
                  </small>
                </div>
                <div>
                  <label
                    for="State"
                    class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
                    >State</label
                  >
                  <input
                    type="text"
                    formControlName="dstate"
                    class="input-form"
                    placeholder="State"
                    appFirstCapLetter
                    [ngClass]="{
                      error:
                        updateDonorForm.get('dstate')?.invalid &&
                        updateDonorForm.get('dstate')?.touched
                    }"
                    required
                  />

                  <small
                    *ngIf="
                      updateDonorForm?.get('state')?.invalid &&
                      updateDonorForm?.get('state')?.touched
                    "
                    class="text-danger text-red-600"
                  >
                    State Should not be
                  </small>
                </div>

                <div>
                  <label
                    for="city"
                    class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
                    >Town/City</label
                  >
                  <input
                    type="text"
                    formControlName="dcity"
                    class="input-form"
                    placeholder="City"
                    appFirstCapLetter
                    [ngClass]="{
                      error:
                        updateDonorForm.get('dcity')?.invalid &&
                        updateDonorForm.get('dcity')?.touched
                    }"
                    required
                  />

                  <small
                    *ngIf="
                      updateDonorForm?.get('city')?.invalid &&
                      updateDonorForm?.get('city')?.touched
                    "
                    class="text-danger text-red-600"
                  >
                    City should not be empty!
                  </small>
                </div>
                <div>
                  <label
                    for="Pincode"
                    class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
                    >Pincode</label
                  >
                  <input
                    type="text"
                    formControlName="dpinCode"
                    class="input-form"
                    autocomplete="postal-code"
                    placeholder="000 000"
                    [ngClass]="{
                      error:
                        updateDonorForm.get('pin')?.invalid &&
                        updateDonorForm.get('pin')?.touched
                    }"
                    required
                  />

                  <small
                    *ngIf="
                      updateDonorForm?.get('pin')?.invalid &&
                      updateDonorForm?.get('pin')?.touched
                    "
                    class="text-danger text-red-600"
                  >
                    Invalid pin!
                  </small>
                </div>
              </div>
              <div class="mt-6 flex items-center justify-start gap-x-6">
                <div *ngIf="isEdit">
                  <button
                    type="submit"
                    (click)="edit()"
                    class="inline-flex items-center rounded-lg bg-purple-700 px-5 py-2.5 text-center text-sm font-medium text-white transition-all duration-500 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-800"
                  >
                    <svg
                      class="mr-1 h-5 w-5 text-white"
                      fill="currentColor"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      fill="none"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"
                      />
                    </svg>

                    Edit
                  </button>
                </div>
                <div *ngIf="isSave">
                  <button
                    (click)="updateDonor(updateDonorForm.value)"
                    type="submit"
                    class="me-2 rounded-lg bg-green-600 px-5 py-2.5 text-sm font-medium text-white transition-all duration-500 hover:bg-green-800 focus:outline-none focus:ring-4 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-600 dark:focus:ring-green-800"
                  >
                    <svg
                      class="mr-1 inline-flex h-5 w-5 items-center justify-center text-white"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      fill="none"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                      />
                    </svg>

                    Save
                  </button>
                </div>
                <button
                  type="submit"
                  (click)="isDelete = true"
                  class="inline-flex items-center rounded-lg bg-red-600 px-5 py-2.5 text-center text-sm font-medium text-white transition-all duration-500 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"
                >
                  <svg
                    class="mr-1 h-5 w-5 text-white"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="none"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"
                    />
                  </svg>

                  Delete
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
<div
  *ngIf="isDelete"
  class="fixed bottom-0 left-0 right-0 top-0 z-20 flex items-center justify-center overflow-y-auto overflow-x-hidden bg-black bg-opacity-50 backdrop-blur-sm"
>
  <div class="relative h-full w-full max-w-md p-4 md:h-auto">
    <!-- Modal content -->
    <div
      class="animate__animated animate__bounceIn animate__faster relative rounded-lg bg-white p-4 text-center shadow dark:bg-gray-800 sm:p-5"
    >
      <svg
        class="mx-auto mb-3.5 h-11 w-11 text-gray-400 dark:text-gray-500"
        aria-hidden="true"
        fill="currentColor"
        viewBox="0 0 20 20"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
          clip-rule="evenodd"
        ></path>
      </svg>
      <p class="mb-4 text-gray-500 dark:text-gray-300">
        Are you sure you want to delete this Donor?
      </p>
      <div class="flex items-center justify-center space-x-4">
        <button
          (click)="isDelete = false"
          type="button"
          class="focus:ring-primary-300 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-900 focus:z-10 focus:outline-none focus:ring-4 dark:border-gray-500 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:ring-gray-600"
        >
          No, cancel
        </button>
        <button
          (click)="deleteDonor()"
          type="button"
          class="rounded-lg bg-red-600 px-3 py-2 text-center text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-4 focus:ring-red-300 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-red-900"
        >
          Yes, I'm sure
        </button>
      </div>
    </div>
  </div>
</div>
<div
  *ngIf="isSuccess"
  class="fixed bottom-0 left-0 right-0 top-0 z-20 flex items-center justify-center overflow-y-auto overflow-x-hidden bg-black bg-opacity-50 backdrop-blur-sm"
>
  <div class="relative h-full w-full max-w-md p-4 md:h-auto">
    <!-- Modal content -->
    <div
      class="animate__animated animate__bounceIn animate__faster relative rounded-lg bg-white p-4 text-center shadow dark:bg-gray-800 sm:p-5"
    >
      <button
        (click)="fetchDonorData(); isSuccess = false"
        type="button"
        class="absolute right-2.5 top-2.5 ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white"
        data-modal-toggle="successModal"
      >
        <svg
          aria-hidden="true"
          class="h-5 w-5"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
            clip-rule="evenodd"
          ></path>
        </svg>
        <span class="sr-only">Close modal</span>
      </button>
      <div
        class="mx-auto mb-3.5 flex h-12 w-12 items-center justify-center rounded-full bg-green-100 p-2 dark:bg-green-900"
      >
        <iframe
          class="w-20"
          src="https://lottie.host/embed/dc778159-edb6-41d0-89ee-a87bdc8c96e8/XuNkfRRGgm.json"
        ></iframe>
        <span class="sr-only">Success</span>
      </div>
      <p class="mb-4 text-lg font-semibold text-gray-900 dark:text-white">
        Successfully Updated Donor.
      </p>
      <!-- <button
        routerLink="/home/productList"
        type="button"
        class="rounded-lg bg-blue-600 px-3 py-2 text-center text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-900"
      >
        Continue
      </button> -->
    </div>
  </div>
</div>
